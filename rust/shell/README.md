From https://www.joshmcguigan.com/blog/build-your-own-shell-rust/ (https://archive.fo/OUBDU)